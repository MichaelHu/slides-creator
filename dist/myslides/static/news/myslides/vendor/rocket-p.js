!function(t,e){"function"==typeof define&&define.amd?define(["zepto","underscore","exports"],function(n,i,r){e(t,r,n,i)}):t.Rocket=e(t,{},t.Zepto||t.jQuery,_)}(this,function(t,e,n,i){function r(t,e){function n(t,e){return function(){var n=this._super;this._super=r.prototype[t]||function(){};var i=e.apply(this,arguments);return this._super=n,i}}var i,r=this;i=t&&Utils.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},Utils.extend(i,r,e);var a=function(){this.constructor=i
};if(a.prototype=r.prototype,i.prototype=new a,t)for(var o in t)i.prototype[o]="function"==typeof t[o]&&"function"==typeof r.prototype[o]?n(o,t[o]):t[o];return i._superClass=r,i}var a=function(){function t(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===A.call(t)}function i(t){return"[object Function]"===A.call(t)}function r(t){return"[object String]"===A.call(t)}function a(t){return"[object Arguments]"===A.call(t)}function o(t){return"[object RegExp]"===A.call(t)
}function s(t){if(null==t)return!0;if(e(t)||r(t)||a(t))return 0===t.length;for(var n in t)if(_(t,n))return!1;return!0}function u(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;var a=A.call(t);if(a!==A.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===a;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;
var s=t.constructor,p=e.constructor;if(s!==p&&!(i(s)&&s instanceof s&&i(p)&&p instanceof p)&&"constructor"in t&&"constructor"in e)return!1}for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!u(t[c],e[c],n,r))return!1}else{var l,h=T(t);if(c=h.length,T(e).length!==c)return!1;for(;c--;)if(l=h[c],!_(e,l)||!u(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}function p(t,e){return u(t,e,[],[])}function c(t,e,n){var r,a={};if(null==t)return a;
if(i(e)){e=L(e,n);for(r in t){var o=t[r];e(o,r,t)&&(a[r]=o)}}else{var s=l(arguments,!1,!1,1);t=new Object(t);for(var u=0,p=s.length;p>u;u++)r=s[u],r in t&&(a[r]=t[r])}return a}function l(t,n,i,r){for(var o,s=[],u=0,p=r||0,c=t&&t.length;c>p;p++)if(o=t[p],o&&o.length>=0&&(e(o)||a(o))){n||(o=l(o,n,i));var h=0,g=o.length;for(s.length+=g;g>h;)s[u++]=o[h++]}else i||(s[u++]=o);return s}function h(t,e){return l(t,e,!1)}function g(t,e,n){if(null==t)return t;e=L(e,n);var i,r=t.length;if(r===+r)for(i=0;r>i;i++)e(t[i],i,t);
else{var a=T(t);for(i=0,r=a.length;r>i;i++)e(t[a[i]],a[i],t)}return t}function f(t){for(var e=T(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i}function d(e,n,r){return null==e?C:i(e)?L(e,n,r):t(e)?B(e):k(e)}function v(t,e,n){if(null==t)return[];e=d(e,n);for(var i,r=t.length!==+t.length&&T(t),a=(r||t).length,o=Array(a),s=0;a>s;s++)i=r?r[s]:s,o[s]=e(t[i],i,t);return o}function m(t,e,n){if(null==t)return!1;e=d(e,n);var i,r,a=t.length!==+t.length&&T(t),o=(a||t).length;for(i=0;o>i;i++)if(r=a?a[i]:i,e(t[r],r,t))return!0;
return!1}function b(n){return t(n)?e(n)?n.slice():$({},n):n}function w(e){if(!t(e))return e;for(var n=1,i=arguments.length;i>n;n++){var r=arguments[n];for(var a in r)void 0===e[a]&&(e[a]=r[a])}return e}function _(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function T(e){if(!t(e))return[];if(Object.keys)return Object.keys(e);var n=[];for(var i in e)_(e,i)&&n.push(i);return n}function y(e){if(!t(e))return[];var n=[];for(var i in e)n.push(i);return n}function S(t){return function(e){var n=arguments.length;
if(2>n||null==e)return e;for(var i=0;n>i;i++)for(var r=arguments[i],a=t(r),o=a.length,s=0;o>s;s++){var u=a[s];e[u]=r[u]}return e}}function U(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),i(r)?r.call(t):r}function E(t){var e=++H+"";return t?t+e:e}function R(){return n.ajax.apply(n,arguments)}function F(t,e,n){var i=j[t];N.method=t,N.model=e,N.options=n,Utils.defaults(n||(n={}),{emulateHTTP:!1,emulateJSON:!1});var r={type:i,dataType:"json"};if(n.url||(r.url=U(e,"url")||x()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){r.type="POST",n.emulateJSON&&(r.data._method=i);
var a=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",i),a?a.apply(this,arguments):void 0}}"GET"!==r.type&&(r.processData=!1);var o=n.error;n.error=function(t,e,i){n.textStatus=e,n.errorThrown=i,o&&o.apply(this,arguments)},N.ajaxData=r.data;var s=n.xhr=Utils.ajax($(r,n));return e.trigger("request",e,s,n),s}function x(){throw new Error('A "url" property or function must be specified')}function P(t){var e=n(t),t=e.get(0);if("none"==e.css("display"))return"none";
for(var i=t,r=i.parentNode;r&&1==r.nodeType;){if("none"==r.style.display)return"none";i=r,r=i.parentNode}return e.css("display")}function O(t){return"none"!=P(t)}var A=Object.prototype.toString,C=function(t){return t},B=function(t){var e=f(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var i=0;n>i;i++){var r=e[i],a=r[0];if(r[1]!==t[a]||!(a in t))return!1}return!0}},k=function(t){return function(e){return null==e?void 0:e[t]}},L=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)
};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,a){return t.call(e,n,i,r,a)}}return function(){return t.apply(e,arguments)}},$=S(y),H=0,j={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"},N={},V=function(){function t(t,r,a,o){var s=n(".global-tip"),u=n(window).height();switch(o=o||1500,r||(r=0),a||(a=0),0==s.length&&(s=n('<div class="global-tip"><span></span></div>'),n("body").prepend(s)),i&&e&&clearTimeout(e),i=!0,s.find("span").text(t),r){case 0:s.css("text-align","center");
break;case 1:s.css("text-align","left");break;case 2:s.css("text-align","right")}switch(a){case 0:s.css("top",u/2+"px");break;case 1:s.css("top","10px");break;case 2:s.css("bottom","10px")}s.css({"-webkit-transition":"none",opacity:1}),s.show(),e=setTimeout(function(){s.animate({opacity:0},300,"",function(){s.hide(),s.css({"-webkit-transition":"none",opacity:1}),i=!1})},o)}var e,i;return t}();return{isObject:t,isFunction:i,isArray:e,isEqual:p,isEmpty:s,isRegExp:o,keys:T,defaults:w,extend:$,result:U,pick:c,flatten:h,each:g,map:v,any:m,clone:b,has:_,uniqueId:E,ajax:R,sync:F,syncArgs:N,tip:V,isReallyDisplay:O}
}();Utils=a.extend(i,a);var o=function(){function t(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var a in n)t[e].apply(t,[a,n[a]].concat(r));return!1}if(i.test(n)){for(var o=n.split(i),s=0,u=o.length;u>s;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0}function e(t,e){var n,i=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o);
return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}}var n=[].slice,i=/\s+/,r={on:function(e,n,i){if(!t(this,"on",e,[n,i])||!n)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:n,context:i,ctx:i||this}),this},once:function(e,n,i){if(!t(this,"once",e,[n,i])||!n)return this;var r=this,a=function(){r.off(e,a),n.apply(this,arguments)};return a._callback=n,this.on(e,a,i)
},off:function(e,n,i){if(!this._events||!t(this,"off",e,[n,i]))return this;if(!e&&!n&&!i)return this._events=void 0,this;for(var r=e?[e]:Utils.keys(this._events),a=0,o=r.length;o>a;a++){e=r[a];var s=this._events[e];if(s)if(n||i){for(var u=[],p=0,c=s.length;c>p;p++){var l=s[p];(n&&n!==l.callback&&n!==l.callback._callback||i&&i!==l.context)&&u.push(l)}u.length?this._events[e]=u:delete this._events[e]}else delete this._events[e]}return this},trigger:function(i){if(!this._events)return this;var r=n.call(arguments,1);
if(!t(this,"trigger",i,r))return this;var a=this._events[i],o=this._events.all;return a&&e(a,r),o&&e(o,arguments),this},listenTo:function(t,e,n){var i=this._listeningTo||(this._listeningTo={}),r=t._listenId||(t._listenId=Utils.uniqueId("l"));i[r]=t,n||"object"!=typeof e||(n=this),t.on(e,n,this)},listenToOnce:function(t,e,n){if("object"==typeof e){for(var i in e)this.listenToOnce(t,i,e[i]);return this}var r=function(){this.stopListening(t,e,r),n.apply(this,arguments)};return r._callback=n,this.listenTo(t,e,r)
},stopListening:function(t,e,n){var i=this._listeningTo;if(!i)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((i={})[t._listenId]=t);for(var a in i)t=i[a],t.off(e,n,this),(r||Utils.isEmpty(t._events))&&delete this._listeningTo[a];return this}};return r.bind=r.on,r.unbind=r.off,r}(),s=function(){function t(){this.handlers=[],"undefined"!=typeof window&&(this.location=window.location,this.history=window.history);var t=this,e=t.checkUrl;t.checkUrl=function(){e.apply(t,arguments)}}var e=/^[#\/]|\s+$/g,n=/^\/+|\/+$/g,i=/#.*$/;
return t.started=!1,Utils.extend(t.prototype,o,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=decodeURI(this.location.pathname+this.getSearch()),e=this.root.slice(0,-1);return t.indexOf(e)||(t=t.slice(e.length)),"/"===t.charAt(0)?t.slice(1):t
},getFragment:function(t){return null==t&&(t=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(e,"")},start:function(e){if(t.started)throw new Error("history has already been started");if(t.started=!0,this.options=Utils.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(n,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var i=this.root.slice(0,-1)||"/";
return this.location.replace(i+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!(this._hasHashChange||!this._wantsHashChange||this._wantsPushState&&this._hasPushState)){var r=document.createElement("iframe");r.src="javascript:0",r.style.display="none",r.tabIndex=-1;var a=document.body;this.iframe=a.insertBefore(r,a.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)
};return this._hasPushState?o("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._hasPushState?e("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),t.started=!1
},route:function(t,e){this.handlers.unshift({route:t,callback:e})},resetHandlers:function(){this.handlers.length=0},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),Utils.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(e,n){if(!t.started)return!1;
n&&n!==!0||(n={trigger:!!n}),e=this.getFragment(e||"");var r=this.root;(""===e||"?"===e.charAt(0))&&(r=r.slice(0,-1)||"/");var a=r+e;if(e=decodeURI(e.replace(i,"")),this.fragment!==e){if(this.fragment=e,this._hasPushState)this.history[n.replace?"replaceState":"pushState"]({},document.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);this._updateHash(this.location,e,n.replace),this.iframe&&e!==this.getHash(this.iframe)&&(n.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,n.replace))
}return n.trigger?this.loadUrl(e):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),new t}(),u=function(){function t(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}var e=function(t,e){var n=t||{};e||(e={}),this.attributes={},e.parse&&(n=this.parse(n,e)||{}),n=Utils.defaults({},n,Utils.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};return Utils.extend(e.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return Utils.clone(this.attributes)
},sync:function(){return Utils.sync.apply(this,arguments)},escape:function(){},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,a,o,s,u,p,c;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;a=n.unset,s=n.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=Utils.clone(this.attributes),this.changed={}),c=this.attributes,p=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);
for(i in r)e=r[i],Utils.isEqual(c[i],e)||o.push(i),Utils.isEqual(p[i],e)?delete this.changed[i]:this.changed[i]=e,a?delete c[i]:c[i]=e;if(!s){o.length&&(this._pending=n);for(var l=0,h=o.length;h>l;l++)this.trigger("change:"+o[l],this,c[o[l]],n)}if(u)return this;if(!s)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,Utils.extend({},e,{unset:!0}))},clear:function(t){var e={};
for(var n in this.attributes)e[n]=void 0;return this.set(e,Utils.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!Utils.isEmpty(this.changed):Utils.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?Utils.clone(this.changed):!1;var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)Utils.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null
},previousAttributes:function(){return Utils.clone(this._previousAttributes)},fetch:function(e){e=e?Utils.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t){return n.set(n.parse(t,e),e)?(i&&i(n,t,e),void n.trigger("sync",n,t,e)):!1},t(this,e),this.sync("read",this,e)},save:function(e,n,i){var r,a,o,s=this.attributes;if(null==e||"object"==typeof e?(r=e,i=n):(r={})[e]=n,i=Utils.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;
r&&i.wait&&(this.attributes=Utils.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var u=this,p=i.success;return i.success=function(t){u.attributes=s;var e=u.parse(t,i);return i.wait&&(e=Utils.extend(r||{},e)),Utils.isObject(e)&&!u.set(e,i)?!1:(p&&p(u,t,i),void u.trigger("sync",u,t,i))},t(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"!==a||i.attrs||(i.attrs=r),o=this.sync(a,this,i),r&&i.wait&&(this.attributes=s),o},destroy:function(e){e=e?Utils.clone(e):{};var n=this,i=e.success,r=function(){n.stopListening(),n.trigger("destroy",n,n.collection,e)
};if(e.success=function(t){(e.wait||n.isNew())&&r(),i&&i(n,t,e),n.isNew()||n.trigger("sync",n,t,e)},this.isNew())return e.success(),!1;t(this,e);var a=this.sync("delete",this,e);return e.wait||r(),a},url:function(){var t=Utils.result(this,"urlRoot")||Utils.result(this.collection,"url")||urlError();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)
},isValid:function(t){return this._validate({},Utils.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=Utils.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,Utils.extend(e,{validationError:n})),!1):!0}}),e.extend=r,e}(),p=function(){var t=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this.history=t.history||this.history||s,this._bindRoutes(),this.initialize.apply(this,arguments)
},e=/\((.*?)\)/g,i=/(\(\?)?:\w+/g,a=/\*\w+/g,u=/[\-{}\[\]+?.,\\\^$|#\s]/g,p=/[:*](\w+)/g,c=/^(_defaultHandler):(\w+)$/;return Utils.extend(t.prototype,o,{initialize:function(){this.viewClasses={},this.views={},this.currentView=null,this.previousView=null,this.pageOrder=Utils.result(this,"pageOrder")},getHistory:function(){return Utils.result(this,"history")},route:function(t,e,n){Utils.isRegExp(t)||(t=this._routeToRegExp(t)),Utils.isFunction(e)&&(n=e,e="");var i=this._parseSpecialHandler(e);n||(n=this[i.handler||e]);
var r=this,a=r.getHistory();return a.route(t,function(o){var s=r._extractParameters(t,o),u=i.action||e;r.execute(n,s,u)!==!1&&(r.trigger.apply(r,["route:"+u].concat(s)),r.trigger("route",u,s),a.trigger("route",r,u,s))}),this},addRoute:function(t,e){var n=this,i={};if(n.routes&&Utils.isString(t))return n.routes[t]?n.routes[t]=e:(i[t]=e,n.routes=Utils.extend(i,n.routes)),n._resetRoutes(),n._bindRoutes(),n},removeRoute:function(t){var e=this;if(e.routes&&Utils.isString(t)&&e.routes[t])return delete e.routes[t],e._resetRoutes(),e._bindRoutes(),e
},execute:function(t,e,n){t&&t.apply(this,[n].concat(e))},navigate:function(t,e){return this.getHistory().navigate(t,e),this},start:function(){var t=this.getHistory();return t.start.apply(t,arguments),this},_parseSpecialHandler:function(t){var e,n;return!Utils.isFunction(t)&&c.test(t)&&(e=RegExp.$1,n=RegExp.$2),{handler:e,action:n}},_bindRoutes:function(){if(this.routes){this.routes=Utils.result(this,"routes"),this.paramNames={};for(var t,e=Utils.keys(this.routes);null!=(t=e.pop());){var n=[];t.replace(p,function(t,e){n.push(e)
});var i=this.routes[t];Utils.isFunction(i)&&(i="");var r=this._parseSpecialHandler(i);i=r.action||i,/^_defaultHandler[:]?$/.test(i)||(this.paramNames[i]||(this.paramNames[i]=[]),this.paramNames[i].push(n),this.route(t,this.routes[t]))}}},_resetRoutes:function(){this.getHistory().resetHandlers()},_routeToRegExp:function(t){return t=t.replace(u,"\\$&").replace(e,"(?:$1)?").replace(i,function(t,e){return e?t:"([^/?]+)"}).replace(a,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);
return Utils.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})},_getViewClass:function(t){return this.viewClasses[t]},registerViewClass:function(t,e){return!Utils.isEmpty(t)&&Utils.isFunction(e)?(this.viewClasses[t]=e,this):void 0},pageOrder:[],getPageOrder:function(){return this.pageOrder.slice()},insertPageOrder:function(t,e){var n,i,r,a,o=this.pageOrder;for(e||(e={pos:"LAST"}),a=o.length;a>=0;)o[a]==t&&o.splice(a,1),a--;switch(e.pos){case"FIRST":o.unshift(t);break;
case"LAST":o.push(t);break;case"BEFORE":n=!0;case"AFTER":for(i=e.relatedAction,a=0;a<o.length;){if(o[a]==i){r=n?a:a+1;break}a++}break;default:/\d+/.test(e.pos)&&(r=e.pos)}return void 0!==r&&o.splice(r,0,t),this},removePageOrder:function(t){for(var e=this.pageOrder,n=0;n<e.length;)e[n]==t&&e.splice(n,1),n++;return this},pageTransition:{},defaultPageTransition:"simple",registerPageTransition:function(){},_selectParamNames:function(t,e){for(var n=this.paramNames[t],i=0,r=[];i<n.length;){if(n[i].length+1==e.length){r=n[i];
break}i++}return r},_defaultHandler:function(){var t=Utils.map(arguments,function(t){return t}),e=t.shift(),n={},i=this._selectParamNames(e,t);if(i.length+1==t.length){for(var r=0;r<i.length;r++)n[i[r]]=t[r];n._query_=t[r]}this.doAction(e,n)},doAction:function(t,e){var n=this,i=n.views[t];if(!i){var r=n._getViewClass(t);i=n.views[t]=new r(e,t,n)}n.previousView=n.currentView,n.currentView=i,n.trigger("routechange",{from:n.previousView,to:n.currentView}),n.switchPage(n.previousView,n.currentView,e)
},switchPage:function(t,e,i){var r,a,o=this,s=0,u=Utils.result(o,"pageOrder"),p=t&&t.action||null,c=e&&e.action||null;null!==p&&null!==c&&p!==c&&-1!=(r=u.indexOf(p))&&-1!=(a=u.indexOf(c))&&(s=r>a?2:1),o.enablePositionRestore&&t&&t.savePos(),n.each(t==e?[t]:[t,e],function(t,e){e&&e.trigger("pagebeforechange",{from:o.previousView,to:o.currentView,params:i})}),o.doAnimation(t,e,s,function(){o.enablePositionRestore&&e&&e.restorePos(i),n.each(t==e?[t]:[t,e],function(t,e){e&&e.trigger("pageafterchange",{from:o.previousView,to:o.currentView,params:i})
})})},doAnimation:function(t,e,n,i){var r,a=this;(r=a._selectAnimation(t&&t.action||null,e&&e.action||null)||m.get(Utils.result(a,"defaultPageTransition")))(t&&t.el,e&&e.el,n,i)},_selectAnimation:function(t,e){if(null!=t&&null!=e){var n,i=this,r=Utils.result(i,"pageTransition")||{};return n=r[t+"-"+e]||r[e+"-"+t],m.get(n)}}}),t.extend=r,t}(),c=function(){var t=["model","collection","el","id","attributes","className","tagName","events"],e=/^(\S+)\s*(.*)$/,i=function(e){this.cid=Utils.uniqueId("view"),e||(e={}),Utils.extend(this,Utils.pick(e,t)),this._ensureElement(),this.initialize.apply(this,arguments)
};return Utils.extend(i.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof n?t:n(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=Utils.result(this,"events")))return this;
this.undelegateEvents();for(var n in t){var i=t[n];if(Utils.isFunction(i)||(i=this[i]),i){var r=n.match(e),a=this;!function(){var t=i;a.delegate(r[1],r[2],function(){t.apply(a,arguments)})}()}}},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(Utils.result(this,"el"));
else{var t=Utils.extend({},Utils.result(this,"attributes"));this.id&&(t.id=Utils.result(this,"id")),this.className&&(t["class"]=Utils.result(this,"className")),this.setElement(this._createElement(Utils.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),i.extend=r,i}(),l=c.extend({initialize:function(t,e){var i=this;i.options=n.extend({},t),i._parent=e||null,i._children={},i._length=0,i.ec=i.getRoot(),i.gec=i.ec._router,i.subec=i.getSubEC(),i.featureString=i.getFeatureString(),i.init(t),i._registerEvents(),i.registerEvents()
},init:function(){},getRoot:function(){var t,e,n=this;for(t=e=n;t;)e=t,t=t._parent;return e},getSubEC:function(){var t,e,n=this;for(t=e=n;t;){if(t instanceof d)return t;e=t,t=t._parent}return e},getFeatureString:function(t){var e=this,i=t||e.options,r="";return r=n.param(i,!0),t||(e.featureString=r),r},append:function(t,e){return this._addSubview(t,"APPEND",e),this},appendTo:function(t,e,n){return this._addSubview(t,"APPENDTO",n,e),this},prepend:function(t,e){return this._addSubview(t,"PREPEND",e),this
},prependTo:function(t,e,n){return this._addSubview(t,"PREPENDTO",n,e),this},setup:function(t,e){return this._addSubview(t,"SETUP",e),this},_addSubview:function(t,e,i,r){var a=this;if(!(t instanceof l))throw new Error("BaseView._addSubview: arguments must be an instance of BaseView");switch(a._children[t.cid]=t,a._length++,t._parent=a,e){case"SETUP":break;case"PREPEND":a.$el.prepend(t.$el);break;case"APPENDTO":n(r).append(t.$el);break;case"PREPENDTO":n(r).prepend(t.$el);break;default:a.$el.append(t.$el)
}!i&&t.$el.hide()},remove:function(t){var e=this;t instanceof l?(delete e._children[t.cid],e._length--,t._parent=null,t.$el.remove()):e._parent&&e._parent.remove(e)},firstChild:function(){var t=this;for(var e in t._children)return t._children[e];return null},nextSibling:function(){var t=this,e=t._parent,n=null,i=null;if(!e)return null;for(var r in e._children)if(n=i,i=e._children[r],n==t)return i;return null},prevSibling:function(){var t=this,e=t._parent,n=null,i=null;if(!e)return null;for(var r in e._children)if(n=i,i=e._children[r],i==t)return n;
return null},destroy:function(){var t=this;for(var e in t._children)t._children[e].destroy();t._unregisterEvents(),t.unregisterEvents(),t.undelegateEvents(),this.$el.remove(),t.el=t.$el=null,t._parent&&delete t._parent._children[t.cid]},registerEvents:function(){},unregisterEvents:function(){},onorientationchange:function(){},_registerEvents:function(){var t=this,e=t.ec;t._onorientationchange=function(){t.pageOrientationToBe=window.orientation,e.isActivePage()&&t.pageOrientation!=t.pageOrientationToBe&&(t.onorientationchange(t.pageOrientation,t.pageOrientationToBe),t.pageOrientation=t.pageOrientationToBe)
},n(window).on("orientationchange",t._onorientationchange),e.on("pagebeforechange",t._onpagebeforechange,t),e.on("pageafterchange",t._onpageafterchange,t)},_unregisterEvents:function(){var t=this,e=t.ec;n(window).off("orientationchange",t._onorientationchange),t.onorientationchange=t.onsubpagebeforechange=t.onsubpageafterchange=function(){},e.off("pagebeforechange",t._onpagebeforechange,t),e.off("pageafterchange",t._onpageafterchange,t)},_onpagebeforechange:function(t){var e=this,n=t.from,i=t.to,r=t.params,a=e.getFeatureString(r),o=e.subpageManager;
e.pageOrientation!=e.pageOrientationToBe&&(e.onorientationchange(e.pageOrientation,e.pageOrientationToBe),e.pageOrientation=e.pageOrientationToBe),o&&o._subpages.length&&i==e.ec&&n!=i&&o._currentSubpage&&o._currentSubpage.featureString!=a&&o._currentSubpage.$el.hide()},_onpageafterchange:function(t){var e,i,r=this,a=t.from,o=t.to,s=t.params,u=r.getFeatureString(s),p=r.subpageManager;if(o==r.ec&&p&&p._subpages.length){if(!p.getSubpage(u)){var c=new p._subpageClass(n.extend({},s),r);r.append(c),p.registerSubpage(u,c)
}p.setCurrentSubpage(p.getSubpage(u)),e=p._previousSubpage,i=p._currentSubpage,a==o?p.switchSubpage(e,i,t):o==r.ec&&(n.each(e==i?[e]:[e,i],function(e,n){n&&n.onsubpagebeforechange&&n.onsubpagebeforechange(t),n&&n.onsubpageafterchange&&n.onsubpageafterchange(t)}),p.recycleSubpage())}o==r.ec&&r==r.ec&&(r._dynamicOptions=n({},s))},getSubpageManager:function(t){var e,n=this;return(e=n.subpageManager)?e:e=n.subpageManager=new v(t,n)},getSubpageSwitchDir:function(){},tip:function(){Utils.tip.apply(window,arguments)
},show:function(){var t=this;setTimeout(function(){t.$el.show()},0)},hide:function(){this.$el.hide()},navigate:function(t,e){this.gec.history.navigate(t,n.extend({trigger:!0},e))}}),h=l.extend({initialize:function(t,e,n){var i=this;if(!e||!Utils.isString(e))throw Error("PageView initialize: action must be an non-empty string");if(!n instanceof p)throw Error("PageView initialize: router must be an instance of Router");i.action=e,i._router=n,i._tops={},i.$el.parent().length||i.$el.appendTo("#wrapper"),i._super(t,null)
},isActivePage:function(){return Utils.isReallyDisplay(this.el)},_getDynamicFeatureString:function(t){var e=this;return n.param(t||e._dynamicOptions||e.options,!0)},savePos:function(){var t=this;t._tops[t._getDynamicFeatureString()]=window.scrollY},restorePos:function(t,e){var n=this,i=n._getDynamicFeatureString(t);setTimeout(function(){window.scrollTo(0,n._tops[i]||e||0)},0)}}),g=l.extend({initialize:function(t,e){var n=this;if(!e instanceof l)throw Error("SubView initialize: parent must be an instance of class BaseView");
n._super(t,e)}}),f=l.extend({initialize:function(t,e){var n=this;if(!e instanceof p)throw Error("GlobalView initialize: router must be an instance of Router");n.router=n._router=e,e.on("routechange",n._onroutechange,n),n._super.call(n,t,null)},isActivePage:function(){return!1},_onroutechange:function(t){this.trigger("routechange",n.extend({},t))},triggerPageEvent:function(t,e,i){var r,a=this,o=t.split(/\s*,\s*/);n.each(o,function(t,n){r=a.router.views[n],r&&r.trigger(e,i)})},getCurrentAction:function(){return this.router&&this.router.currentView.action||""
}}),d=g.extend({initialize:function(t,e){var n=this;if(!e instanceof l)throw Error("SubpageView initialize: parent must be an instance of class BaseView");n._super(t,e)},isActiveSubpage:function(){return Utils.isReallyDisplay(me.el)}}),v=function(t,e){var i=this,r=n.extend({},t);if(!e instanceof l)throw Error("SubPageManager constructor: subPageManagerView must be an instance of class BaseView");i._subpageClass=r.subpageClass||null,i.MAX_SUBPAGES=r.maxSubpages||1,i.subpageTransition=r.subpageTransition||"slide",i.subpageManagerView=e,i._subpages=[],i._currentSubpage=null,i._previousSubpage=null,i.defaultSubpageTransition="simple"
};v.prototype={switchSubpage:function(t,e,i){var r=this,a=0;a=r.subpageManagerView.getSubpageSwitchDir?r.subpageManagerView.getSubpageSwitchDir(t,e):r.getSubpageSwitchDir(t,e),n.each(t==e?[t]:[t,e],function(t,e){e.trigger("subpagebeforechange",i)}),r.doSubpageAnimation(t,e,a,function(){n.each(t==e?[t]:[t,e],function(t,e){e&&e.onsubpageafterchange&&e.onsubpageafterchange(i)}),r.recycleSubpage()})},getSubpageSwitchDir:function(t,e){for(var n=this,i=0,r=n._subpages,a=t&&t.getFeatureString()||null,o=e&&e.getFeatureString()||null,s=-1,u=-1,p=0;p<r.length;p++)r[p].name==a&&(s=p),r[p].name==o&&(u=p);
return null!==a&&null!==o&&a!==o&&-1!=s&&-1!=u&&(i=s>u?2:1),i},doSubpageAnimation:function(t,e,n,i){var r,a=this;(r=m.get(a.subpageTransition||"simple"))(t&&t.el,e&&e.el,n,i)},registerSubpage:function(t,e){var n=this;n.getSubpage(t)||n._subpages.push({name:t,subpage:e})},getSubpage:function(t){for(var e=this,n=e._subpages,i=0,r=n.length;r>i;i++)if(n[i].name==t)return n[i].subpage},setCurrentSubpage:function(t){var e=this;if(!(t instanceof rocket.baseview))throw Error("error in method setCurrentSubpage: subpage is not an instance of rocket.baseview");
t!=e._currentSubpage&&(e._previousSubpage=e._currentSubpage,e._currentSubpage=t)},recycleSubpage:function(){for(var t,e=this,n=e._subpages;n.length>e.MAX_SUBPAGES;)t=n.shift(),t.subpage==e._currentSubpage?e._subpages.push(t):t.subpage.destroy()}},v.extend=r;var m=function(){function t(t,e){if(!Utils.isString(t)||0==t.length)throw Error("registerAnimation: name must be non-empty string");if(!Utils.isFunction(e))throw Error("registerAnimation: func must be function");r[t]=e}function e(t){return r[t]
}function i(t,e,i,r){function o(){p=!0,l.hide().attr("class",l.data("original-classes")||null).off("webkitAnimationEnd"),c.attr("class",c.data("original-classes")||null).off("webkitAnimationEnd"),a=!1}for(var s,u,p,c=n(t),l=n(e);a;)lastAnimationCleanUp&&lastAnimationCleanUp();a=!0,lastAnimationCleanUp=o,s=u=!1,p=!1,l.data("original-classes",l.attr("class")).addClass(r).on("webkitAnimationEnd",function(){s=!0,u&&o()}),c.data("original-classes",c.attr("class")).addClass(i).on("webkitAnimationEnd",function(){u=!0,s&&o()
})[0].style.display="block",setTimeout(function(){p||o()},2e3)}var r={},a=!1;return{register:t,get:e,pageTransition:i}}();return function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),r&&r()}m.register("simple",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToLeft",u="pt-page-moveFromRight";2==i&&(s="pt-page-moveToRight",u="pt-page-moveFromLeft"),m.pageTransition(e,t,u,s)
}m.register("slideLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToTop",u="pt-page-moveFromBottom";2==i&&(s="pt-page-moveToBottom",u="pt-page-moveFromTop"),m.pageTransition(e,t,u,s)}m.register("slideTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToLeftFade",u="pt-page-moveFromRightFade";
2==i&&(s="pt-page-moveToRightFade",u="pt-page-moveFromLeftFade"),m.pageTransition(e,t,u,s)}m.register("slidefadeLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToTopFade",u="pt-page-moveFromBottomFade";2==i&&(s="pt-page-moveToBottomFade",u="pt-page-moveFromTopFade"),m.pageTransition(e,t,u,s)}m.register("slidefadeTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);
if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-fade",u="pt-page-moveFromRight pt-page-ontop";2==i&&(s="pt-page-fade",u="pt-page-moveFromLeft pt-page-ontop"),m.pageTransition(e,t,u,s)}m.register("fadeslideLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-fade",u="pt-page-moveFromBottom pt-page-ontop";2==i&&(s="pt-page-fade",u="pt-page-moveFromTop pt-page-ontop"),m.pageTransition(e,t,u,s)
}m.register("fadeslideTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToLeftEasing pt-page-ontop",u="pt-page-moveFromRight";2==i&&(s="pt-page-moveToRightEasing pt-page-ontop",u="pt-page-moveFromLeft"),m.pageTransition(e,t,u,s)}m.register("slideeasingLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-moveToTopEasing pt-page-ontop",u="pt-page-moveFromBottom";2==i&&(s="pt-page-moveToBottomEasing pt-page-ontop",u="pt-page-moveFromTop"),m.pageTransition(e,t,u,s)}m.register("slideeasingTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToLeft pt-page-ontop",u="pt-page-scaleUp";2==i&&(s="pt-page-moveToRight pt-page-ontop",u="pt-page-scaleUp"),m.pageTransition(e,t,u,s)
}m.register("slidescaleupLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToTop pt-page-ontop",u="pt-page-scaleUp";2==i&&(s="pt-page-moveToBottom pt-page-ontop",u="pt-page-scaleUp"),m.pageTransition(e,t,u,s)}m.register("slidescaleupTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());
var s="pt-page-scaleDown",u="pt-page-moveFromRight pt-page-ontop";2==i&&(s="pt-page-scaleDown",u="pt-page-moveFromLeft pt-page-ontop"),m.pageTransition(e,t,u,s)}m.register("scaledownslideLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-scaleDown",u="pt-page-moveFromBottom pt-page-ontop";2==i&&(s="pt-page-scaleDown",u="pt-page-moveFromTop pt-page-ontop"),m.pageTransition(e,t,u,s)}m.register("scaledownslideTB",t)
}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-flipOutLeft",u="pt-page-flipInRight pt-page-delay500";2==i&&(s="pt-page-flipOutRight",u="pt-page-flipInLeft pt-page-delay500"),m.pageTransition(e,t,u,s)}m.register("flipLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-flipOutTop",u="pt-page-flipInBottom pt-page-delay500";
2==i&&(s="pt-page-flipOutBottom",u="pt-page-flipInTop pt-page-delay500"),m.pageTransition(e,t,u,s)}m.register("flipTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-scaleDown",u="pt-page-scaleUpDown pt-page-delay300";m.pageTransition(e,t,u,s)}m.register("scaledownscaleupdown",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-scaleDownUp",u="pt-page-scaleUp pt-page-delay300";m.pageTransition(e,t,u,s)}m.register("scaledownupscaleup",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateFall pt-page-ontop",u="pt-page-scaleUp";m.pageTransition(e,t,u,s)}m.register("rotatefallscaleup",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-rotateOutNewspaper",u="pt-page-rotateInNewspaper pt-page-delay500";m.pageTransition(e,t,u,s)}m.register("rotatenewspaper",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateSlideOut",u="pt-page-rotateSlideIn";m.pageTransition(e,t,u,s)}m.register("rotateslide",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-rotateSlideOut",u="pt-page-rotateSlideIn pt-page-delay200";m.pageTransition(e,t,u,s)}m.register("rotateslidedelay",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-scaleDownCenter",u="pt-page-scaleUpCenter pt-page-delay400";m.pageTransition(e,t,u,s)}m.register("scaledowncenterscaleupcenter",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-rotateRightSideFirst",u="pt-page-moveFromRight pt-page-delay200 pt-page-ontop";2==i&&(s="pt-page-rotateLeftSideFirst",u="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop"),m.pageTransition(e,t,u,s)}m.register("rotateslideLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateBottomSideFirst",u="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop";
2==i&&(s="pt-page-rotateTopSideFirst",u="pt-page-moveFromTop pt-page-delay200 pt-page-ontop"),m.pageTransition(e,t,u,s)}m.register("rotateslideTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotatePushLeft",u="pt-page-moveFromRight";2==i&&(s="pt-page-rotatePushRight",u="pt-page-moveFromLeft"),m.pageTransition(e,t,u,s)}m.register("rotatepushslideLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);
if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotatePushTop",u="pt-page-moveFromBottom";2==i&&(s="pt-page-rotatePushBottom",u="pt-page-moveFromTop"),m.pageTransition(e,t,u,s)}m.register("rotatepushslideTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateRoomLeftOut pt-page-ontop",u="pt-page-rotateRoomLeftIn";2==i&&(s="pt-page-rotateRoomRightOut pt-page-ontop",u="pt-page-rotateRoomRightIn"),m.pageTransition(e,t,u,s)
}m.register("rotateroomLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateRoomTopOut pt-page-ontop",u="pt-page-rotateRoomTopIn";2==i&&(s="pt-page-rotateRoomBottomOut pt-page-ontop",u="pt-page-rotateRoomBottomIn"),m.pageTransition(e,t,u,s)}m.register("rotateroomTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-rotateCubeLeftOut pt-page-ontop",u="pt-page-rotateCubeLeftIn";2==i&&(s="pt-page-rotateCubeRightOut pt-page-ontop",u="pt-page-rotateCubeRightIn"),m.pageTransition(e,t,u,s)}m.register("rotatecubeLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateCubeTopOut pt-page-ontop",u="pt-page-rotateCubeTopIn";2==i&&(s="pt-page-rotateCubeBottomOut pt-page-ontop",u="pt-page-rotateCubeBottomIn"),m.pageTransition(e,t,u,s)
}m.register("rotatecubeTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateCarouselLeftOut pt-page-ontop",u="pt-page-rotateCarouselLeftIn";2==i&&(s="pt-page-rotateCarouselRightOut pt-page-ontop",u="pt-page-rotateCarouselRightIn"),m.pageTransition(e,t,u,s)}m.register("rotatecarouselLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()
},0)),void(r&&r());var s="pt-page-rotateCarouselTopOut pt-page-ontop",u="pt-page-rotateCarouselTopIn";2==i&&(s="pt-page-rotateCarouselBottomOut pt-page-ontop",u="pt-page-rotateCarouselBottomIn"),m.pageTransition(e,t,u,s)}m.register("rotatecarouselTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateFoldLeft",u="pt-page-moveFromRightFade";2==i&&(s="pt-page-rotateFoldRight",u="pt-page-moveFromLeftFade"),m.pageTransition(e,t,u,s)
}m.register("rotatefoldmovefadeLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-rotateFoldTop",u="pt-page-moveFromBottomFade";2==i&&(s="pt-page-rotateFoldBottom",u="pt-page-moveFromTopFade"),m.pageTransition(e,t,u,s)}m.register("rotatefoldmovefadeTB",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());
var s="pt-page-moveToLeftFade",u="pt-page-rotateUnfoldRight";2==i&&(s="pt-page-moveToRightFade",u="pt-page-rotateUnfoldLeft"),m.pageTransition(e,t,u,s)}m.register("movefaderotateunfoldLR",t)}(),function(){function t(t,e,i,r){var a=t&&n(t),o=e&&n(e);if(0==i)return t!=e&&(t&&a.hide(),setTimeout(function(){e&&o.show()},0)),void(r&&r());var s="pt-page-moveToTopFade",u="pt-page-rotateUnfoldBottom";2==i&&(s="pt-page-moveToBottomFade",u="pt-page-rotateUnfoldTop"),m.pageTransition(e,t,u,s)}m.register("movefaderotateunfoldTB",t)
}(),Utils.extend(e,{Events:o,Model:u,View:c,History:s,Router:p,Utils:Utils,extend:r,PageView:h,SubView:g,GlobalView:f,SubpageView:d,SubpageManager:v,Animation:m}),e});